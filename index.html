<!DOCTYPE html><html lang="es" style="background-color: #020205; overflow: hidden;"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>TRIADA V1.0 | jDarkxng</title><style> 
/* * TRIADA
         * jDarkxng © 2026 | Licencia CC BY-NC-ND 4.0 
         */
:root { --neon: #00f2ff; --magenta: #ff00ff; --victoria: #00ff88; --derrota: #ff3333; --bg: #020205; --panel: rgba(5, 5, 25, 0.9); } * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; touch-action: manipulation; user-select: none; } html, body { width: 100vw; height: 100vh; height: 100svh; background: var(--bg); color: #fff; overflow: hidden; position: fixed; font-family: sans-serif; } body::before { content: ""; position: absolute; inset: 0; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03)); background-size: 100% 3px, 3px 100%; z-index: 1000; pointer-events: none; } .module-viewport { position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 10px 0; gap: 15px; } .bg-particles { position: absolute; inset: 0; background-image: radial-gradient(circle at 50% 50%, rgba(0, 242, 255, 0.05) 1px, transparent 1px); background-size: 40px 40px; pointer-events: none; } .overlay { position: absolute; inset: 0; background: var(--bg); z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center; } .glitch-title { font-size: 3.5rem; font-weight: 900; color: var(--neon); text-shadow: 0 0 20px var(--neon); letter-spacing: 10px; } .sub-title { color: var(--magenta); font-size: 0.8rem; letter-spacing: 5px; margin: 5px 0 10px 0; font-weight: bold; } .ui-element { background: #050510; border: 2px solid var(--magenta); color: #fff; padding: 12px; width: 280px; margin: 5px 0; text-align: center; font-size: 1rem; outline: none; border-radius: 0; font-weight: 900; text-transform: uppercase; } .btn-exe { background: var(--magenta); cursor: pointer; border: none; box-shadow: 0 0 15px rgba(255, 0, 255, 0.3); } .hud-vs { display: none; flex-direction: row; align-items: center; justify-content: space-between; width: 95%; max-width: 480px; background: var(--panel); padding: 20px; position: relative; clip-path: polygon(0% 20%, 5% 0%, 95% 0%, 100% 20%, 100% 80%, 95% 100%, 70% 100%, 65% 90%, 35% 90%, 30% 100%, 5% 100%, 0% 80%); border: 1px solid var(--neon); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0 0 20px rgba(0, 242, 255, 0.1); z-index: 10; } .hud-vs.ia-active { border-color: var(--magenta); box-shadow: 0 0 30px rgba(255, 0, 255, 0.2); } .score-box { flex: 1; display: flex; flex-direction: column; align-items: center; } .center-panel { flex: 1.5; display: flex; flex-direction: column; align-items: center; position: relative; } .vs-core { position: relative; display: flex; align-items: center; justify-content: center; width: 80px; height: 40px; margin-top: 10px; } .vs-text { font-size: 2.2rem; font-weight: 900; color: var(--magenta); text-shadow: 0 0 15px var(--magenta); font-style: italic; z-index: 2; transition: all 0.4s; } .hud-vs.ia-active .vs-text { transform: scale(1.15); text-shadow: 0 0 25px var(--magenta); } .vs-line { position: absolute; height: 2px; background: var(--neon); width: 40px; top: 50%; transform: translateY(-50%); transition: all 0.4s; } .vs-line.l { left: -30px; } .vs-line.r { right: -30px; } .hud-vs.ia-active .vs-line { background: var(--magenta); width: 50px; box-shadow: 0 0 10px var(--magenta); } .rank-container { font-size: 0.55rem; color: var(--neon); font-weight: 900; border: 1px solid var(--neon); padding: 2px 10px; background: rgba(0,0,0,0.5); text-transform: uppercase; transition: all 0.4s; letter-spacing: 2px; } .hud-vs.ia-active .rank-container { color: var(--magenta); border-color: var(--magenta); } .val { font-size: 2.8rem; font-weight: 900; color: #fff; line-height: 1; } .tag { font-size: 0.55rem; color: var(--neon); letter-spacing: 1px; font-weight: 900; margin-top: 5px; transition: all 0.4s; } .hud-vs.ia-active .tag { color: var(--magenta); } .mute-btn { position: relative; background: rgba(0, 0, 0, 0.6); border-left: 1px solid var(--neon); border-right: 1px solid var(--neon); border-top: none; border-bottom: none; color: var(--neon); padding: 4px 15px; font-size: 0.5rem; cursor: pointer; font-weight: 900; margin-top: 10px; transition: all 0.4s ease; width: 85px; text-align: center; } .mute-btn::before, .mute-btn::after { content: ''; position: absolute; left: 0; width: 100%; height: 1px; background: var(--neon); transition: all 0.4s ease; } .mute-btn::before { top: 0; } .mute-btn::after { bottom: 0; } .hud-vs.ia-active .mute-btn { border-color: var(--magenta); color: var(--magenta); background: rgba(255,0,255,0.1); } .hud-vs.ia-active .mute-btn::before, .hud-vs.ia-active .mute-btn::after { background: var(--magenta); } #status-msg { background: rgba(0, 0, 0, 0.9); border: 1px solid var(--neon); color: var(--neon); padding: 5px 20px; font-size: 0.7rem; font-weight: 900; letter-spacing: 3px; text-align: center; clip-path: polygon(5% 0, 95% 0, 100% 50%, 95% 100%, 5% 100%, 0 50%); min-width: 180px; transition: all 0.4s; z-index: 20; } #status-msg.thinking { border-color: var(--magenta); color: var(--magenta); } .game-area { position: relative; display: flex; flex-direction: column; align-items: center; width: 100%; min-height: 400px; justify-content: center; overflow: visible; } .corner-frame { position: absolute; width: 380px; height: 380px; pointer-events: none; z-index: 4; transition: all 0.4s; } .corner-frame div { position: absolute; width: 20px; height: 20px; border: 2px solid var(--neon); transition: all 0.4s; } .c-tl { top: 0; left: 0; border-right: 0 !important; border-bottom: 0 !important; } .c-tr { top: 0; right: 0; border-left: 0 !important; border-bottom: 0 !important; } .c-bl { bottom: 0; left: 0; border-right: 0 !important; border-top: 0 !important; } .c-br { bottom: 0; right: 0; border-left: 0 !important; border-top: 0 !important; } .hud-vs.ia-active ~ .game-area .corner-frame div { border-color: var(--magenta); } .shockwave { position: absolute; border-radius: 50%; pointer-events: none; z-index: 15; border: 2px solid transparent; transform: translate(-50%, -50%); animation: pulse-out 0.5s cubic-bezier(0, 0.5, 0.5, 1) forwards; } @keyframes pulse-out { 0% { width: 0; height: 0; opacity: 1; border-color: inherit; border-width: 4px; } 100% { width: 450px; height: 450px; opacity: 0; border-color: inherit; border-width: 1px; } } .matrix-grid { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); gap: 10px; width: 350px; height: 350px; position: relative; z-index: 5; transition: all 0.4s; } .matrix-grid-lines { position: absolute; inset: 0; pointer-events: none; z-index: 1; } .matrix-grid-lines::before, .matrix-grid-lines::after { position: absolute; inset: 0; content: ""; transition: background 0.4s; } .matrix-grid-lines::before { background: linear-gradient(90deg, transparent 32.5%, var(--neon) 32.5%, var(--neon) 33.5%, transparent 33.5%, transparent 66.5%, var(--neon) 66.5%, var(--neon) 67.5%, transparent 67.5%); } .matrix-grid-lines::after { background: linear-gradient(180deg, transparent 32.5%, var(--neon) 32.5%, var(--neon) 33.5%, transparent 33.5%, transparent 66.5%, var(--neon) 66.5%, var(--neon) 67.5%, transparent 67.5%); } .matrix-grid.ia-active .matrix-grid-lines::before { background: linear-gradient(90deg, transparent 32.5%, var(--magenta) 32.5%, var(--magenta) 33.5%, transparent 33.5%, transparent 66.5%, var(--magenta) 66.5%, var(--magenta) 67.5%, transparent 67.5%); } .matrix-grid.ia-active .matrix-grid-lines::after { background: linear-gradient(180deg, transparent 32.5%, var(--magenta) 32.5%, var(--magenta) 33.5%, transparent 33.5%, transparent 66.5%, var(--magenta) 66.5%, var(--magenta) 67.5%, transparent 67.5%); } .cell { background: rgba(0, 0, 0, 0.7); display: flex; align-items: center; justify-content: center; font-size: 4.5rem; font-weight: 900; cursor: pointer; position: relative; z-index: 2; } .cell.x { color: var(--neon); text-shadow: 0 0 15px var(--neon); } .cell.o { color: var(--magenta); text-shadow: 0 0 15px var(--magenta); } .cell.x::after { content: 'X'; } .cell.o::after { content: 'O'; } .brand-seal { font-size: 0.55rem; color: var(--neon); font-weight: 900; opacity: 0.5; margin-top: 25px; letter-spacing: 1.5px; text-align: center; } .cell.explode { animation: explode 0.4s forwards; } @keyframes explode { 0% { opacity: 1; filter: blur(0); } 100% { opacity: 0; filter: blur(10px); } } </style></head><body oncontextmenu="return false;"><div class="bg-particles"></div><div class="module-viewport"><div id="start-screen" class="overlay"><h1 class="glitch-title">TRIADA</h1><p class="sub-title">TRES EN RAYA CON IA</p><input type="text" id="username" class="ui-element" placeholder="TU APODO" maxlength="10"><select id="difficulty" class="ui-element"><option value="0">FÁCIL</option><option value="1">NORMAL</option><option value="2">DIFÍCIL</option><option value="3">MODO DIOS (IA)</option></select><button class="ui-element btn-exe" onclick="Engine.init()">JUGAR PARTIDA</button></div><div id="end-screen" class="overlay" style="display:none;"><h2 id="res-title" style="font-size: 3rem; margin-bottom: 10px;">RESULTADO</h2><p id="res-desc" style="font-size: 0.8rem; margin-bottom: 25px; padding: 0 40px; text-align: center; font-weight: bold;"></p><button id="btn-progression" class="ui-element btn-exe" onclick="Engine.handleAction()"></button><button class="ui-element" style="background:#111; border-color:#333;" onclick="Engine.exitToMenu()">VOLVER AL MENÚ</button></div><div class="hud-vs" id="hud"><div class="score-box"><div class="val" id="u-score">0</div><div class="tag" id="u-name">ANÓNIMO</div></div><div class="center-panel"><div class="rank-container" id="r-val">RANGO NOVATO</div><div class="vs-core"><div class="vs-line l"></div><div class="vs-text">VS</div><div class="vs-line r"></div></div><button class="mute-btn" onclick="AudioEngine.toggleMute()" id="mute-txt">AUDIO: ON</button></div><div class="score-box"><div class="val" id="ia-score">0</div><div class="tag">IA</div></div></div><div id="status-msg" style="display:none;">INICIANDO...</div><div class="game-area" id="main-area"><div class="corner-frame"><div class="c-tl"></div><div class="c-tr"></div><div class="c-bl"></div><div class="c-br"></div></div><div class="matrix-grid" id="board"><div class="matrix-grid-lines"></div><div class="cell" data-i="0"></div><div class="cell" data-i="1"></div><div class="cell" data-i="2"></div><div class="cell" data-i="3"></div><div class="cell" data-i="4"></div><div class="cell" data-i="5"></div><div class="cell" data-i="6"></div><div class="cell" data-i="7"></div><div class="cell" data-i="8"></div></div><div class="brand-seal">jDarkxng © 2026 | Licencia CC BY-NC-ND 4.0</div></div></div><script>
/*
         * TRIADA
         * jDarkxng © 2026 | Licencia CC BY-NC-ND 4.0
         */
 const AudioEngine = (() => { const ctx = new (window.AudioContext || window.webkitAudioContext)(); let muted = false; const synth = (f, t, d, v) => { if (muted) return; try { if (ctx.state === 'suspended') ctx.resume(); const o = ctx.createOscillator(), g = ctx.createGain(); o.type = t; o.frequency.setValueAtTime(f, ctx.currentTime); g.gain.setValueAtTime(v, ctx.currentTime); g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + d); o.connect(g); g.connect(ctx.destination); o.start(); o.stop(ctx.currentTime + d); } catch(e) {} }; return { click: (u) => synth(u ? 1000 : 600, 'square', 0.08, 0.1), end: (w, t) => { if(t) synth(400, 'sine', 0.4, 0.1); else synth(w ? 1200 : 100, 'sawtooth', 0.5, 0.1); }, toggleMute: () => { muted = !muted; document.getElementById('mute-txt').innerText = `AUDIO: ${muted ? 'OFF' : 'ON'}`; } }; })(); const Engine = (() => { let board = Array(9).fill(""); let isLive = false; let stats = JSON.parse(localStorage.getItem('tr_st_evo')) || { w: 0, l: 0, ties: 0 }; let level = 0; let lastWinner = ""; const createPulse = (element, isUser) => { const rect = element.getBoundingClientRect(); const areaRect = document.getElementById('main-area').getBoundingClientRect(); const x = rect.left + rect.width / 2 - areaRect.left; const y = rect.top + rect.height / 2 - areaRect.top; const pulse = document.createElement('div'); pulse.className = 'shockwave'; pulse.style.left = `${x}px`; pulse.style.top = `${y}px`; pulse.style.borderColor = isUser ? 'var(--neon)' : 'var(--magenta)'; document.getElementById('main-area').appendChild(pulse); setTimeout(() => pulse.remove(), 550); }; const updateRank = () => { const rVal = document.getElementById('r-val'); let rank = "RANGO NOVATO"; if (stats.w >= 20) rank = "RANGO DIOS"; else if (stats.w >= 10) rank = "RANGO HACKER"; else if (stats.w >= 5) rank = "RANGO EXPERTO"; rVal.innerText = rank; }; const checkWin = (b) => { const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]; for(let w of wins) { if(b[w[0]] && b[w[0]]===b[w[1]] && b[w[0]]===b[w[2]]) return {m:b[w[0]]}; } return b.includes("") ? null : {m:'T'}; }; const minimax = (tempB, p) => { let av = tempB.map((v,i)=>v===""?i:null).filter(v=>v!==null); let res = checkWin(tempB); if(res) return {score: res.m==='O'?10 : res.m==='X'?-10 : 0}; if(av.length===0) return {score:0}; let moves = []; for(let i of av) { tempB[i] = p; let m = {index: i, score: minimax(tempB, p==='O'?'X':'O').score}; tempB[i] = ""; moves.push(m); } return moves.sort((a,b) => p==='O'? b.score-a.score : a.score-b.score)[0]; }; const aiPlay = () => { const sm = document.getElementById('status-msg'); const grid = document.getElementById('board'); const hud = document.getElementById('hud'); sm.innerText = "IA ANALIZANDO..."; sm.classList.add('thinking'); grid.classList.add('ia-active'); hud.classList.add('ia-active'); setTimeout(() => { let move; let av = board.map((v,i)=>v===""?i:null).filter(v=>v!==null); if(av.length === 0) return; if(level == 3) move = minimax(board, 'O').index; else if (level == 0) move = av[Math.floor(Math.random()*av.length)]; else move = Math.random() > (level * 0.3) ? minimax(board, 'O').index : av[Math.floor(Math.random()*av.length)]; if(move !== undefined) { board[move] = 'O'; const cell = document.querySelectorAll('.cell')[move]; cell.classList.add('o'); createPulse(cell, false); AudioEngine.click(false); } sm.classList.remove('thinking'); grid.classList.remove('ia-active'); hud.classList.remove('ia-active'); let res = checkWin(board); if(res) end(res); else { isLive = true; sm.innerText = "TU TURNO"; } }, 500); }; const end = (res) => { isLive = false; lastWinner = res.m; document.querySelectorAll('.cell').forEach(c => c.classList.add('explode')); setTimeout(() => { const title = document.getElementById('res-title'); const desc = document.getElementById('res-desc'); const btn = document.getElementById('btn-progression'); if(res.m === 'X') { stats.w++; title.innerText = "¡VICTORIA!"; title.style.color = "var(--victoria)"; desc.innerText = "¡LOGRASTE VENCER A LA IA CON UNA JUGADA PERFECTA!"; btn.innerText = level < 3 ? "SUBIR NIVEL" : "JUGAR DE NUEVO"; AudioEngine.end(true, false); } else if(res.m === 'O') { stats.l++; title.innerText = "DERROTA"; title.style.color = "var(--derrota)"; desc.innerText = "¡LA IA HA TOMADO EL CONTROL, TUS MOVIMIENTOS FUERON PREDECIBLES!"; btn.innerText = "REINTENTAR"; AudioEngine.end(false, false); } else { stats.ties++; title.innerText = "EMPATE"; title.style.color = "#888"; desc.innerText = "¡UN DUELO INCREÍBLE NADIE LOGRÓ ROMPER EL EQUILIBRIO!"; btn.innerText = "VOLVER A INTENTAR"; AudioEngine.end(false, true); } document.getElementById('u-score').innerText = stats.w; document.getElementById('ia-score').innerText = stats.l; updateRank(); localStorage.setItem('tr_st_evo', JSON.stringify(stats)); document.getElementById('status-msg').style.display = "none"; document.getElementById('end-screen').style.display = "flex"; }, 500); }; return { init: () => { const u = document.getElementById('username').value || "ANÓNIMO"; document.getElementById('u-name').innerText = u.toUpperCase(); level = parseInt(document.getElementById('difficulty').value); document.getElementById('start-screen').style.display = "none"; document.getElementById('hud').style.display = "flex"; document.getElementById('status-msg').style.display = "block"; document.getElementById('status-msg').innerText = "TU TURNO"; updateRank(); isLive = true; board.fill(""); document.querySelectorAll('.cell').forEach(c => { c.className = 'cell'; c.onpointerdown = (e) => { e.preventDefault(); let i = c.dataset.i; if(!isLive || board[i]) return; board[i] = 'X'; c.classList.add('x'); createPulse(c, true); AudioEngine.click(true); isLive = false; let res = checkWin(board); if(res) end(res); else aiPlay(); }; }); }, handleAction: () => { if(lastWinner === 'X' && level < 3) { level++; document.getElementById('difficulty').value = level; } board.fill(""); document.querySelectorAll('.cell').forEach(c => c.className = 'cell'); document.getElementById('end-screen').style.display = "none"; isLive = true; document.getElementById('status-msg').style.display = "block"; document.getElementById('status-msg').innerText = "TU TURNO"; }, exitToMenu: () => { board.fill(""); document.querySelectorAll('.cell').forEach(c => c.className = 'cell'); document.getElementById('end-screen').style.display = "none"; document.getElementById('hud').style.display = "none"; document.getElementById('status-msg').style.display = "none"; document.getElementById('start-screen').style.display = "flex"; } }; })(); </script></body></html>